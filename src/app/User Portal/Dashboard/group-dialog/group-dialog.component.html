<div mat-dialog-content>
  <form [formGroup]="groupForm" (ngSubmit)="onSubmit()">
    <mat-tab-group (selectedIndexChange)="groupForm.get('action')?.setValue($event === 0 ? 'create' : 'join')">
      <mat-tab label="Create Group">
        <div class="form-group pt-4 px-4">
          <mat-form-field appearance="fill" class="form-field">
            <mat-label>Group Name</mat-label>
            <input
              matInput
              formControlName="groupName"
              [ngModel]="groupName"
              placeholder="Enter group name"
            />
            <mat-error *ngIf="groupForm.get('groupName')?.hasError('required')">
              Group Name is required.
            </mat-error>
          </mat-form-field>
        </div>
      </mat-tab>

      <mat-tab label="Join Group">
        <div class="form-group pt-4 px-4">
          <mat-form-field appearance="fill" class="form-field">
            <mat-label>Group ID</mat-label>
            <input
              matInput
              formControlName="groupId"
              [ngModel]="groupId"
              placeholder="Enter group ID"
            />
            <mat-error *ngIf="groupForm.get('groupId')?.hasError('required')">
              Group ID is required.
            </mat-error>
          </mat-form-field>
        </div>
      </mat-tab>
    </mat-tab-group>
  </form>
</div>

<div mat-dialog-actions>
  <button mat-button (click)="onCancel()">Cancel</button>
  <button mat-button color="primary" [disabled]="!isFormValid()" type="submit" (click)="onSubmit()">
    Submit
  </button>
</div>